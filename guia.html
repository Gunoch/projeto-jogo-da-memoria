<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia Interativo: Jogo da Mem√≥ria com React + Vite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Fira+Code:wght@400;500&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        
        .code-font {
            font-family: 'Fira Code', monospace;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #e5e7eb; }
        ::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 250px;
            max-height: 300px;
            margin: 0 auto;
        }

        .step-active {
            background-color: #3b82f6;
            color: white;
            border-left: 4px solid #1e40af;
        }
        .step-inactive {
            background-color: white;
            color: #4b5563;
            border-left: 4px solid transparent;
        }
        .step-inactive:hover {
            background-color: #f9fafb;
            color: #111827;
        }

        .terminal-window {
            background-color: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .terminal-header {
            background-color: #2d2d2d;
            padding: 8px 12px;
            display: flex;
            gap: 6px;
        }
        .terminal-dot { width: 12px; height: 12px; border-radius: 50%; }
        .bg-red { background-color: #ff5f56; }
        .bg-yellow { background-color: #ffbd2e; }
        .bg-green { background-color: #27c93f; }

        .syntax-keyword { color: #c678dd; }
        .syntax-string { color: #98c379; }
        .syntax-function { color: #61afef; }
        .syntax-comment { color: #5c6370; font-style: italic; }
        .syntax-tag { color: #e06c75; }
        .syntax-attr { color: #d19a66; }
    </style>
</head>
<body class="text-gray-800 h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- Sidebar Navigation -->
    <aside class="w-full md:w-64 bg-white border-r border-gray-200 flex flex-col flex-shrink-0 z-20">
        <div class="p-6 border-b border-gray-100 bg-gray-50">
            <h1 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                <span class="text-2xl">‚öõÔ∏è</span>
                <span>React + Vite</span>
            </h1>
            <p class="text-xs text-gray-500 mt-1">Guia Completo</p>
        </div>
        
        <nav class="flex-1 overflow-y-auto p-4 space-y-2" id="nav-container">
            <!-- Nav Items injected by JS -->
        </nav>

        <div class="p-4 border-t border-gray-200 bg-gray-50">
            <div class="text-xs text-gray-400 text-center">
                Progresso: <span id="progress-text">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                <div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
            </div>
        </div>
    </aside>

    <!-- Main Content Area -->
    <main class="flex-1 flex flex-col overflow-hidden relative">
        <!-- Top Bar -->
        <header class="bg-white border-b border-gray-200 p-4 flex justify-between items-center shadow-sm z-10">
            <h2 id="section-title" class="text-lg font-semibold text-gray-800">Vis√£o Geral</h2>
            <div class="text-sm text-gray-500 flex items-center gap-2">
                <span>Status:</span>
                <span id="status-badge" class="px-2 py-1 rounded-full bg-yellow-100 text-yellow-800 text-xs font-medium">Em Andamento</span>
            </div>
        </header>

        <!-- Scrollable Content -->
        <div id="main-scroll" class="flex-1 overflow-y-auto p-4 md:p-8 bg-gray-50/50">
            <div class="max-w-5xl mx-auto space-y-8">
                
                <!-- Intro Section (Dynamic) -->
                <div id="content-area" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 transition-all duration-300">
                    <!-- Content injected by JS -->
                </div>

                <!-- Visualization Container (Dynamic) -->
                <div id="viz-area" class="grid grid-cols-1 md:grid-cols-2 gap-6 hidden">
                     <!-- Chart -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-4 flex flex-col">
                        <h3 class="text-sm font-semibold text-gray-600 mb-4 border-b pb-2">Estrutura do Projeto</h3>
                        <div class="chart-container flex-1 flex items-center justify-center">
                            <canvas id="codeStatsChart"></canvas>
                        </div>
                        <p class="text-xs text-gray-400 mt-2 text-center">Complexidade relativa dos arquivos</p>
                    </div>
                    
                    <!-- Quick Tips / Info -->
                    <div class="bg-blue-50 rounded-xl border border-blue-100 p-6 flex flex-col justify-center">
                        <h3 class="text-blue-800 font-bold mb-2 text-lg">üí° Dica Pro</h3>
                        <p id="tip-text" class="text-blue-700 text-sm leading-relaxed">
                            O Vite usa m√≥dulos ES nativos, o que torna o in√≠cio do servidor quase instant√¢neo.
                        </p>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        // --- Data Store ---
        const guideData = {
            steps: [
                {
                    id: 'overview',
                    title: '1. Vis√£o Geral',
                    icon: 'üìã',
                    content: `
                        <h3 class="text-2xl font-bold text-gray-900 mb-4">Bem-vindo ao Guia do Jogo da Mem√≥ria</h3>
                        <p class="text-gray-600 mb-4 leading-relaxed">
                            Este aplicativo ir√° gui√°-lo na cria√ß√£o de um Jogo da Mem√≥ria completo. 
                            Voc√™ aprender√° a configurar o ambiente, criar componentes e gerenciar o estado do jogo.
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
                            <div class="p-4 bg-gray-50 rounded-lg border border-gray-200 text-center">
                                <div class="text-2xl mb-1">‚ö°</div>
                                <div class="font-semibold text-gray-700">R√°pido</div>
                                <div class="text-xs text-gray-500">Setup com Vite</div>
                            </div>
                            <div class="p-4 bg-gray-50 rounded-lg border border-gray-200 text-center">
                                <div class="text-2xl mb-1">üß©</div>
                                <div class="font-semibold text-gray-700">Modular</div>
                                <div class="text-xs text-gray-500">Componentes React</div>
                            </div>
                            <div class="p-4 bg-gray-50 rounded-lg border border-gray-200 text-center">
                                <div class="text-2xl mb-1">üé®</div>
                                <div class="font-semibold text-gray-700">Estilizado</div>
                                <div class="text-xs text-gray-500">CSS Global</div>
                            </div>
                        </div>
                        <button onclick="app.setStep('prereqs')" class="mt-6 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition shadow-md">Iniciar Guia &rarr;</button>
                    `,
                    hasViz: true,
                    tip: "React usa um conceito chamado 'Virtual DOM' para atualizar a tela de forma eficiente apenas onde necess√°rio."
                },
                {
                    id: 'prereqs',
                    title: '2. Pr√©-requisitos',
                    icon: '‚úÖ',
                    content: `
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Verifica√ß√£o de Ambiente</h3>
                        <p class="text-gray-600 mb-6">Certifique-se de ter o Node.js instalado.</p>
                        
                        <div class="bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-300 mb-4 border-l-4 border-green-500 shadow-md">
                            <div class="flex gap-2 mb-2">
                                <span class="text-green-400">$</span>
                                <span>node -v</span>
                            </div>
                            <div class="text-gray-400 output-line hidden" id="node-output">v18.16.0</div>
                        </div>

                        <div class="flex items-center gap-3">
                            <button onclick="document.getElementById('node-output').classList.remove('hidden'); document.getElementById('check-msg').classList.remove('hidden');" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-md font-medium transition">
                                Simular Verifica√ß√£o
                            </button>
                            <span id="check-msg" class="text-green-600 font-medium hidden flex items-center gap-1">
                                <span>‚úì</span> Node detectado!
                            </span>
                        </div>
                    `,
                    hasViz: false,
                    tip: "Recomendamos usar a vers√£o LTS (Long Term Support) do Node.js para maior estabilidade."
                },
                {
                    id: 'create',
                    title: '3. Criar Projeto',
                    icon: 'üõ†Ô∏è',
                    content: `
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Terminal: Inicializando o Vite</h3>
                        <p class="text-gray-600 mb-4">Clique nos comandos abaixo para simular a cria√ß√£o do projeto.</p>
                        
                        <div class="terminal-window mb-6">
                            <div class="terminal-header">
                                <div class="terminal-dot bg-red"></div>
                                <div class="terminal-dot bg-yellow"></div>
                                <div class="terminal-dot bg-green"></div>
                            </div>
                            <div class="p-4 font-mono text-sm space-y-4">
                                <div class="group cursor-pointer" onclick="app.runTerminal(1)">
                                    <span class="text-green-400 mr-2">$</span>
                                    <span class="text-gray-100 group-hover:text-blue-300 transition">npm create vite@latest jogo-memoria-react -- --template react</span>
                                    <div id="term-1" class="text-gray-500 mt-1 hidden pl-4 border-l border-gray-700">
                                        > Scaffolding project in /jogo-memoria-react...<br>
                                        > Done.
                                    </div>
                                </div>
                                <div class="group cursor-pointer opacity-50" id="cmd-2" onclick="app.runTerminal(2)">
                                    <span class="text-green-400 mr-2">$</span>
                                    <span class="text-gray-100 group-hover:text-blue-300 transition">cd jogo-memoria-react</span>
                                    <div id="term-2" class="text-gray-500 mt-1 hidden pl-4 border-l border-gray-700">
                                        > Directory changed.
                                    </div>
                                </div>
                                <div class="group cursor-pointer opacity-50" id="cmd-3" onclick="app.runTerminal(3)">
                                    <span class="text-green-400 mr-2">$</span>
                                    <span class="text-gray-100 group-hover:text-blue-300 transition">npm install</span>
                                    <div id="term-3" class="text-gray-500 mt-1 hidden pl-4 border-l border-gray-700">
                                        > added 82 packages in 2s
                                    </div>
                                </div>
                            </div>
                        </div>
                    `,
                    hasViz: false,
                    tip: "O comando 'npm install' baixa as depend√™ncias listadas no package.json para a pasta node_modules."
                },
                {
                    id: 'structure',
                    title: '4. Estrutura',
                    icon: 'üìÇ',
                    content: `
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Arquitetura de Pastas</h3>
                        <p class="text-gray-600 mb-6">Crie a pasta <code>components</code> dentro de <code>src</code>. Sua estrutura deve ficar assim:</p>
                        
                        <div class="flex justify-center">
                            <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6 w-full max-w-md font-mono text-sm text-gray-700 leading-relaxed">
                                <div class="flex items-center gap-2"><span class="text-blue-500">üìÇ</span> jogo-memoria-react/</div>
                                <div class="pl-6 border-l border-gray-100 ml-2">
                                    <div class="flex items-center gap-2"><span class="text-blue-500">üìÇ</span> src/</div>
                                    <div class="pl-6 border-l border-gray-100 ml-2 flex items-center gap-2 font-bold text-blue-700"><span class="text-purple-500">üìÑ</span> main.jsx</div>
                                    <div class="pl-6 border-l border-gray-100 ml-2 flex items-center gap-2 font-bold text-blue-700"><span class="text-purple-500">üìÑ</span> App.jsx</div>
                                    <div class="pl-6 border-l border-gray-100 ml-2 flex items-center gap-2"><span class="text-pink-500">üìÑ</span> App.css</div>
                                    <div class="pl-6 border-l border-gray-100 ml-2">
                                        <div class="flex items-center gap-2"><span class="text-blue-500">üìÇ</span> components/</div>
                                        <div class="pl-6 border-l border-gray-100 ml-2 flex items-center gap-2 font-bold text-green-700"><span class="text-purple-500">üìÑ</span> Carta.jsx</div>
                                        <div class="pl-6 border-l border-gray-100 ml-2 flex items-center gap-2 font-bold text-green-700"><span class="text-purple-500">üìÑ</span> Tabuleiro.jsx</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `,
                    hasViz: false,
                    tip: "Separar componentes em arquivos pr√≥prios melhora a organiza√ß√£o e reutiliza√ß√£o do c√≥digo."
                },
                {
                    id: 'files',
                    title: '5. C√≥digo Fonte',
                    icon: 'üíª',
                    content: `
                        <div class="flex flex-col h-full">
                            <div class="flex justify-between items-end mb-4">
                                <h3 class="text-xl font-bold text-gray-900">Editor de Arquivos</h3>
                                <span class="text-xs text-gray-400">Navegue pelas abas para copiar o c√≥digo</span>
                            </div>
                            
                            <!-- Tabs -->
                            <div class="flex border-b border-gray-200 bg-gray-50 rounded-t-lg overflow-x-auto">
                                <button onclick="app.showCode('index')" id="tab-index" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">index.html</button>
                                <button onclick="app.showCode('main')" id="tab-main" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">src/main.jsx</button>
                                <button onclick="app.showCode('carta')" id="tab-carta" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">components/Carta.jsx</button>
                                <button onclick="app.showCode('tabuleiro')" id="tab-tabuleiro" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">components/Tabuleiro.jsx</button>
                                <button onclick="app.showCode('app')" id="tab-app" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">src/App.jsx</button>
                                <button onclick="app.showCode('css')" id="tab-css" class="px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-400 transition whitespace-nowrap">src/App.css</button>
                            </div>

                            <!-- Code Area -->
                            <div class="relative bg-gray-900 rounded-b-lg shadow-inner overflow-hidden flex-1 min-h-[400px]">
                                <button onclick="app.copyCode()" class="absolute top-4 right-4 bg-gray-700 hover:bg-gray-600 text-white text-xs px-2 py-1 rounded shadow z-10">Copiar</button>
                                <pre class="p-4 text-sm font-mono text-gray-300 overflow-auto h-full code-font" id="code-display">
                                    <!-- Code Injected Here -->
                                </pre>
                            </div>
                        </div>
                    `,
                    hasViz: true,
                    tip: "O arquivo App.jsx cont√©m toda a l√≥gica do jogo (embaralhar, verificar pares, contar jogadas)."
                },
                {
                    id: 'run',
                    title: '6. Executar',
                    icon: 'üöÄ',
                    content: `
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Hora do Show!</h3>
                        <p class="text-gray-600 mb-6">Volte ao terminal e execute o projeto.</p>
                        
                        <div class="bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-300 mb-6 shadow-md border-l-4 border-blue-500">
                            <div class="flex gap-2 mb-2">
                                <span class="text-green-400">$</span>
                                <span class="animate-pulse">npm run dev</span>
                            </div>
                            <div class="text-gray-400 pt-2 border-t border-gray-700 mt-2">
                                <span class="text-green-500 font-bold">‚ûú</span>  Local:   <a href="#" class="text-blue-400 hover:underline">http://localhost:5173/</a><br>
                            </div>
                        </div>

                        <div class="bg-green-50 border border-green-200 p-6 rounded-xl text-center">
                            <h4 class="text-green-800 font-bold text-lg mb-2">Sucesso! üéâ</h4>
                            <p class="text-green-700 mb-4">Abra o link no navegador para jogar.</p>
                        </div>
                    `,
                    hasViz: false,
                    tip: "O 'Hot Module Replacement' (HMR) do Vite atualiza a p√°gina instantaneamente quando voc√™ salva um arquivo."
                },
                {
                    id: 'improvements',
                    title: '7. Melhorias',
                    icon: '‚ú®',
                    content: `
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">N√≠vel 2: Adicionando Telas e Fluxo</h3>
                        <p class="text-gray-600 mb-6">Vamos adicionar uma <strong>Tela Inicial</strong> e uma <strong>Tela de Vit√≥ria</strong>.</p>

                        <!-- Passo 1 -->
                        <div class="mb-8">
                            <h4 class="text-lg font-bold text-blue-700 mb-2">1. Novo Estado (App.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">No in√≠cio do componente <code>App</code>, adicione:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-blue-300 overflow-x-auto shadow-md">
                                const [tela, setTela] = useState('inicio'); <span class="text-gray-500">// 'inicio' | 'jogo' | 'fim'</span>
                            </div>
                        </div>

                        <!-- Passo 2 -->
                        <div class="mb-8">
                            <h4 class="text-lg font-bold text-blue-700 mb-2">2. Atualizando o JSX (App.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">Substitua o <code>return</code> completo pelo c√≥digo abaixo:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-gray-300 overflow-x-auto shadow-md">
<pre class="code-font">return (
  &lt;div className="app"&gt;
    
    {/* TELA INICIAL */}
    {tela === 'inicio' && (
      &lt;div className="tela-inicio"&gt;
        &lt;h1&gt;Jogo da Mem√≥ria&lt;/h1&gt;
        &lt;button className="botao-grande" onClick={() => setTela('jogo')}&gt;
          Iniciar Jogo
        &lt;/button&gt;
      &lt;/div&gt;
    )}

    {/* TELA DE JOGO */}
    {tela === 'jogo' && (
      &lt;&gt;
        &lt;div className="painel-info"&gt;
           &lt;span&gt;Jogadas: {jogadas}&lt;/span&gt;
           &lt;button className="botao" onClick={() => setTela('inicio')}&gt;Sair&lt;/button&gt;
        &lt;/div&gt;
        &lt;Tabuleiro cartas={cartas} aoClicarNaCarta={aoClicarNaCarta} /&gt;
      &lt;/&gt;
    )}

    {/* TELA FINAL */}
    {tela === 'fim' && (
       &lt;div className="tela-fim"&gt;
         &lt;h2&gt;Parab√©ns!&lt;/h2&gt;
         &lt;p&gt;Voc√™ venceu em {jogadas} jogadas.&lt;/p&gt;
         &lt;button className="botao-grande" onClick={() => { novoJogo(); setTela('jogo'); }}&gt;
           Jogar Novamente
         &lt;/button&gt;
       &lt;/div&gt;
    )}
  &lt;/div&gt;
);</pre>
                            </div>
                        </div>

                        <!-- Passo 3 -->
                        <div class="mb-8">
                            <h4 class="text-lg font-bold text-blue-700 mb-2">3. L√≥gica de Vit√≥ria (App.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">Na fun√ß√£o <code>aoClicarNaCarta</code>, localize onde atualiza os pares e adicione a verifica√ß√£o:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-yellow-300 overflow-x-auto shadow-md">
                                <span class="text-gray-400">// ... dentro do if (par correto) ...</span><br>
                                setPares((p) => p + 1);<br>
                                <br>
                                <span class="text-green-400">// Adicione isto:</span><br>
                                if (pares + 1 === 4) {<br>
                                &nbsp;&nbsp;setTimeout(() => setTela('fim'), 1000);<br>
                                }
                            </div>
                        </div>

                        <hr class="my-8 border-gray-200" />
                        
                        <h3 class="text-2xl font-bold text-gray-900 mb-6">N√≠vel 3: Usando Imagens</h3>
                        
                        <div class="mb-8">
                            <h4 class="text-lg font-bold text-purple-700 mb-2">1. Dados das Imagens (App.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">Substitua a fun√ß√£o <code>criarBaralho</code> inteira:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-purple-300 overflow-x-auto shadow-md">
<pre class="code-font">function criarBaralho() {
  const imagens = [
    "https://placekitten.com/200/200",
    "https://placedog.net/200/200",
    "https://placebear.com/200/200",
    "https://loremflickr.com/200/200"
  ];
  
  const baralho = [];

  imagens.forEach((imagem, indice) => {
    baralho.push(
      { id: \`\${indice}-a\`, imagem, virada: false, combinada: false },
      { id: \`\${indice}-b\`, imagem, virada: false, combinada: false }
    );
  });
  
  // ... resto do c√≥digo de embaralhar igual ...
  return baralho;
}</pre>
                            </div>
                        </div>
                        
                         <div class="mb-8">
                            <h4 class="text-lg font-bold text-purple-700 mb-2">2. Corre√ß√£o L√≥gica (App.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">Em <code>aoClicarNaCarta</code>, mude a compara√ß√£o de <code>.emoji</code> para <code>.imagem</code>:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-red-300 overflow-x-auto shadow-md">
                                if (primeiraCarta.imagem === segundaCarta.imagem) { ... }
                            </div>
                        </div>

                        <div class="mb-8">
                            <h4 class="text-lg font-bold text-purple-700 mb-2">3. Renderiza√ß√£o (Carta.jsx)</h4>
                            <p class="text-sm text-gray-600 mb-3">Atualize o componente para exibir a tag IMG:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-gray-300 overflow-x-auto shadow-md">
<pre class="code-font">return (
  &lt;div className={classes} onClick={onClick}&gt;
    {carta.virada || carta.combinada ? (
       &lt;img src={carta.imagem} alt="carta" className="imagem-carta" /&gt;
    ) : "?"}
  &lt;/div&gt;
);</pre>
                            </div>
                        </div>

                         <div class="mb-8">
                            <h4 class="text-lg font-bold text-purple-700 mb-2">4. Estilo (App.css)</h4>
                            <p class="text-sm text-gray-600 mb-3">Adicione no final do arquivo CSS:</p>
                            <div class="bg-gray-900 rounded-lg p-4 font-mono text-xs text-pink-300 overflow-x-auto shadow-md">
.tela-inicio, .tela-fim { text-align: center; padding: 20px; }
.botao-grande { padding: 15px 30px; font-size: 1.2rem; margin-top: 20px; cursor: pointer; }
.imagem-carta { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; display: block; }
                            </div>
                        </div>
                    `,
                    hasViz: false,
                    tip: "Lembre-se: ao alterar a estrutura de dados (de emoji para imagem), voc√™ deve atualizar todos os pontos que leem essa propriedade."
                }
            ],
            files: {
                'index': `<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogo da Mem√≥ria em React</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"><\/script>
  </body>
</html>`,
                'main': `import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";
import "./App.css";

ReactDOM.createRoot(document.getElementById("root")).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);`,
                'carta': `import React from "react";

function Carta({ carta, onClick }) {
  const classes = [
    "carta",
    carta.virada ? "virada" : "",
    carta.combinada ? "combinada" : "",
  ]
    .join(" ")
    .trim();

  return (
    <div className={classes} onClick={onClick}>
      {carta.virada || carta.combinada ? carta.emoji : "?"}
    </div>
  );
}

export default Carta;`,
                'tabuleiro': `import React from "react";
import Carta from "./Carta";

function Tabuleiro({ cartas, aoClicarNaCarta }) {
  return (
    <div className="tabuleiro">
      {cartas.map((carta, indice) => (
        <Carta
          key={carta.id}
          carta={carta}
          onClick={() => aoClicarNaCarta(indice)}
        />
      ))}
    </div>
  );
}

export default Tabuleiro;`,
                'app': `import React, { useState, useEffect } from "react";
import Tabuleiro from "./components/Tabuleiro";

function App() {
  const [cartas, setCartas] = useState([]);
  const [primeira, setPrimeira] = useState(null);
  const [segunda, setSegunda] = useState(null);
  const [travado, setTravado] = useState(false);
  const [jogadas, setJogadas] = useState(0);
  const [pares, setPares] = useState(0);

  function criarBaralho() {
    const emojis = ["üê∏", "üê±", "üê∂", "üêº"]; // 4 pares = 8 cartas
    const baralho = [];

    emojis.forEach((emoji, indice) => {
      baralho.push(
        { id: \`\${indice}-a\`, emoji, virada: false, combinada: false },
        { id: \`\${indice}-b\`, emoji, virada: false, combinada: false }
      );
    });

    for (let i = baralho.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [baralho[i], baralho[j]] = [baralho[j], baralho[i]];
    }

    return baralho;
  }

  function novoJogo() {
    setCartas(criarBaralho());
    setPrimeira(null);
    setSegunda(null);
    setTravado(false);
    setJogadas(0);
    setPares(0);
  }

  useEffect(() => {
    novoJogo();
  }, []);

  function aoClicarNaCarta(indice) {
    if (travado) return;

    const cartaAtual = cartas[indice];
    if (cartaAtual.virada || cartaAtual.combinada) return;

    const novasCartas = cartas.slice();
    novasCartas[indice] = { ...cartaAtual, virada: true };
    setCartas(novasCartas);

    if (primeira === null) {
      setPrimeira(indice);
    } else if (segunda === null && indice !== primeira) {
      setSegunda(indice);
      setTravado(true);
      setJogadas((j) => j + 1);

      const primeiraCarta = novasCartas[primeira];
      const segundaCarta = novasCartas[indice];

      if (primeiraCarta.emoji === segundaCarta.emoji) {
        setTimeout(() => {
          const atualizadas = novasCartas.map((c, i) => {
            if (i === primeira || i === indice) {
              return { ...c, combinada: true };
            }
            return c;
          });
          setCartas(atualizadas);
          setPares((p) => p + 1);
          setPrimeira(null);
          setSegunda(null);
          setTravado(false);
        }, 400);
      } else {
        setTimeout(() => {
          const atualizadas = novasCartas.map((c, i) => {
            if (i === primeira || i === indice) {
              return { ...c, virada: false };
            }
            return c;
          });
          setCartas(atualizadas);
          setPrimeira(null);
          setSegunda(null);
          setTravado(false);
        }, 700);
      }
    }
  }

  const terminou = pares === 4;

  return (
    <div className="app">
      <h1 className="titulo">Jogo da Mem√≥ria</h1>
      <p className="subtitulo">Encontre todos os pares de emojis.</p>

      <div className="painel-info">
        <span>Jogadas: {jogadas}</span>
        <button className="botao" onClick={novoJogo}>
          Reiniciar
        </button>
      </div>

      <Tabuleiro cartas={cartas} aoClicarNaCarta={aoClicarNaCarta} />

      {terminou && (
        <p className="mensagem-final">
          Parab√©ns! Voc√™ encontrou todos os pares em {jogadas} jogadas.
        </p>
      )}
    </div>
  );
}

export default App;`,
                'css': `* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background: #111;
  color: #fff;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

#root {
  width: 100%;
  max-width: 600px;
  padding: 16px;
}

.app {
  background: #1c1c1c;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
}

.titulo {
  text-align: center;
  margin-bottom: 8px;
  font-size: 22px;
}

.subtitulo {
  text-align: center;
  font-size: 13px;
  color: #ccc;
  margin-bottom: 12px;
}

.painel-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
  font-size: 14px;
}

.botao {
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  background: #ff9800;
  color: #111;
  font-weight: bold;
}

.botao:active {
  transform: scale(0.97);
}

.tabuleiro {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
}

.carta {
  width: 100%;
  aspect-ratio: 3 / 4;
  border-radius: 10px;
  background: #333;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  font-size: 30px;
  user-select: none;
  transition: transform 0.2s, background 0.2s;
}

.carta.virada {
  background: #ff9800;
  color: #111;
  transform: scale(1.03);
}

.carta.combinada {
  background: #4caf50;
  color: #111;
  cursor: default;
}

.mensagem-final {
  text-align: center;
  margin-top: 10px;
  font-size: 14px;
}`
            }
        };

        // --- Application Logic ---
        const app = {
            currentStepIndex: 0,
            chartInstance: null,

            init() {
                this.renderNav();
                this.setStep(guideData.steps[0].id);
            },

            renderNav() {
                const navContainer = document.getElementById('nav-container');
                navContainer.innerHTML = guideData.steps.map((step, index) => `
                    <button 
                        onclick="app.setStep('${step.id}')"
                        id="nav-${step.id}"
                        class="w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition-colors step-inactive text-sm font-medium"
                    >
                        <span>${step.icon}</span>
                        <span>${step.title.split('. ')[1]}</span>
                    </button>
                `).join('');
            },

            setStep(stepId) {
                const index = guideData.steps.findIndex(s => s.id === stepId);
                this.currentStepIndex = index;
                const step = guideData.steps[index];

                // Update UI Title
                document.getElementById('section-title').innerText = step.title;
                
                // Update Progress
                const progress = Math.round(((index + 1) / guideData.steps.length) * 100);
                document.getElementById('progress-bar').style.width = `${progress}%`;
                document.getElementById('progress-text').innerText = `${progress}%`;
                
                // Update Nav Styles
                document.querySelectorAll('#nav-container button').forEach(btn => {
                    btn.classList.remove('step-active');
                    btn.classList.add('step-inactive');
                });
                const activeBtn = document.getElementById(`nav-${stepId}`);
                if (activeBtn) {
                    activeBtn.classList.remove('step-inactive');
                    activeBtn.classList.add('step-active');
                }

                // Inject Content
                document.getElementById('content-area').innerHTML = step.content;

                // Handle Visualization Area
                const vizArea = document.getElementById('viz-area');
                if (step.hasViz) {
                    vizArea.classList.remove('hidden');
                    if (step.id === 'overview') {
                        document.querySelector('.chart-container').classList.remove('hidden');
                        setTimeout(() => this.renderChart(), 100);
                    } else if (step.id === 'files') {
                         document.querySelector('.chart-container').parentElement.classList.add('hidden');
                         this.showCode('index');
                    } else {
                        document.querySelector('.chart-container').parentElement.classList.remove('hidden');
                    }
                    
                    document.getElementById('tip-text').innerText = step.tip;
                } else {
                    vizArea.classList.add('hidden');
                }

                // Scroll to top
                document.getElementById('main-scroll').scrollTop = 0;
            },

            runTerminal(stepNum) {
                const output = document.getElementById(`term-${stepNum}`);
                const nextCmd = document.getElementById(`cmd-${stepNum + 1}`);
                if (output) output.classList.remove('hidden');
                if (nextCmd) {
                    nextCmd.classList.remove('opacity-50');
                    nextCmd.classList.add('pointer-events-auto');
                }
            },

            showCode(fileKey) {
                const tabs = ['index', 'main', 'carta', 'tabuleiro', 'app', 'css'];
                tabs.forEach(t => {
                    const el = document.getElementById(`tab-${t}`);
                    if(el) {
                        if (t === fileKey) {
                            el.classList.add('text-blue-600', 'border-blue-400');
                            el.classList.remove('text-gray-600', 'border-transparent');
                        } else {
                            el.classList.remove('text-blue-600', 'border-blue-400');
                            el.classList.add('text-gray-600', 'border-transparent');
                        }
                    }
                });

                let rawCode = guideData.files[fileKey];
                
                let highlighted = rawCode
                    .replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                    .replace(/(import|from|export|default|function|const|return|if|else)/g, '<span class="syntax-keyword">$1</span>')
                    .replace(/('.*?'|".*?")/g, '<span class="syntax-string">$1</span>')
                    .replace(/(\/\/.*)/g, '<span class="syntax-comment">$1</span>')
                    .replace(/(&lt;\/?)(\w+)/g, '$1<span class="syntax-tag">$2</span>')
                    .replace(/(className|onClick|key|src|id|href|type)=/g, '<span class="syntax-attr">$1</span>=');

                document.getElementById('code-display').innerHTML = highlighted;
            },

            copyCode() {
                const btn = document.querySelector('#content-area button.absolute');
                const originalText = btn.innerText;
                btn.innerText = 'Copiado!';
                setTimeout(() => btn.innerText = originalText, 1500);
            },

            renderChart() {
                const ctx = document.getElementById('codeStatsChart').getContext('2d');
                if (this.chartInstance) this.chartInstance.destroy();

                this.chartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['App.jsx', 'App.css', 'Carta.jsx', 'Tabuleiro.jsx', 'main.jsx'],
                        datasets: [{
                            label: 'Linhas de C√≥digo',
                            data: [90, 85, 20, 15, 10],
                            backgroundColor: [
                                'rgba(59, 130, 246, 0.7)',
                                'rgba(236, 72, 153, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(139, 92, 246, 0.7)'
                            ],
                            borderColor: [
                                'rgb(59, 130, 246)',
                                'rgb(236, 72, 153)',
                                'rgb(16, 185, 129)',
                                'rgb(16, 185, 129)',
                                'rgb(139, 92, 246)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: { beginAtZero: true, ticks: { font: { size: 10 } } },
                            x: { ticks: { font: { size: 10 } } }
                        },
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
            }
        };

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>